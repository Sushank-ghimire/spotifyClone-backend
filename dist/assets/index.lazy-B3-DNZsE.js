import{d as l,s as o,r as n,n as m,j as s,C as d,t as x,L as f,v as u}from"./index-C6cZrQKt.js";const y=l("/auth-callback/")({component:p});function p(){const a=o(),t=n.useRef(!1),{isLoaded:r,user:e}=m();return n.useEffect(()=>{(async()=>{var c;try{if(t.current=!0,!e||!r||t.current)return;await u.post("/users/register",{clerkId:e==null?void 0:e.id,profileUrl:e==null?void 0:e.imageUrl,email:(c=e==null?void 0:e.primaryEmailAddress)==null?void 0:c.emailAddress,userFullName:e==null?void 0:e.fullName})}catch(i){console.log("Error in auth callback : ",i)}finally{a({to:"/"})}})()},[r,e,a]),s.jsx("div",{className:"min-h-screen w-screen flex justify-center items-center",children:s.jsx(d,{className:"w-[90%] max-w-md bg-zinc-900 border-zinc-800",children:s.jsxs(x,{className:"flex flex-col items-center gap-4 pt-6",children:[s.jsx(f,{className:"size-8 text-emerald-500 animate-spin"}),s.jsx("h3",{className:"text-zinc-400 text-xl font-bold",children:"Logging you in"}),s.jsx("p",{className:"text-zinc-400 text-md",children:"Redirecting.."})]})})})}export{y as Route};
